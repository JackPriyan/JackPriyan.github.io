{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakith\\\\JackPriyan.github.io\\\\src\\\\components\\\\table.js\";\nimport Row from './row';\nimport { STATE_ROW_STATISTICS } from '../constants';\nimport { capitalize, abbreviate } from '../utils/commonfunctions';\nimport classnames from 'classnames';\nimport equal from 'fast-deep-equal';\nimport React, { useState, useMemo, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport ReactTooltip from 'react-tooltip';\nimport { createBreakpoint, useLocalStorage, useEffectOnce } from 'react-use';\nconst useBreakpoint = createBreakpoint({\n  XL: 1280,\n  L: 768,\n  S: 350\n});\n\nfunction StateHeaderCell({\n  handleSort,\n  sortData,\n  statistic\n}) {\n  const breakpoint = useBreakpoint();\n  const {\n    t\n  } = useTranslation();\n  return /*#__PURE__*/React.createElement(\"th\", {\n    onClick: () => handleSort(statistic),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"abbr\", {\n    className: classnames({\n      [`is-${statistic}`]: breakpoint === 'S'\n    }),\n    title: statistic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 9\n    }\n  }, breakpoint === 'L' ? statistic.slice(0) : breakpoint === 'S' ? capitalize(abbreviate(statistic === 'deaths' ? 'deceased' : statistic)) : t(capitalize(statistic === 'deaths' ? 'deceased' : statistic))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: sortData.sortColumn === statistic ? 'initial' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames({\n      'arrow-up': sortData.isAscending\n    }, {\n      'arrow-down': !sortData.isAscending\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }))));\n}\n\nconst isEqual = (prevProps, currProps) => {\n  return equal(prevProps.regionHighlighted, currProps.regionHighlighted);\n};\n\nfunction Table({\n  states,\n  districts,\n  zones,\n  regionHighlighted,\n  onHighlightState,\n  onHighlightDistrict\n}) {\n  const [sortData, setSortData] = useLocalStorage('sortData', {\n    sortColumn: 'confirmed',\n    isAscending: false\n  });\n  const {\n    t\n  } = useTranslation();\n  const [sortedStates, setSortedStates] = useState(states.filter(state => state.statecode !== 'TT'));\n  const FineprintTop = useMemo(() => /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"table-fineprint fadeInUp\",\n    style: {\n      animationDelay: '1.5s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, t('Compiled from State Govt. numbers'), \",\", ' ', /*#__PURE__*/React.createElement(Link, {\n    to: \"/about\",\n    style: {\n      color: '#6c757d'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, t('know more'), \"!\")), /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"table-fineprint fadeInUp\",\n    style: {\n      animationDelay: '1.5s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, t('District zones as published by MoHFW'), ', ', /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.facebook.com/airnewsalerts/photos/a.262571017217636/1710062729135117/?type=3&theater\",\n    style: {\n      color: '#6c757d'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, t('source')))), [t]);\n  const FineprintBottom = useMemo(() => /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"table-fineprint fadeInUp\",\n    style: {\n      animationDelay: '1s'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, states.slice(1).filter(s => s && s.confirmed > 0).length, \" States/UTS Affected\"), [states]);\n  const doSort = useCallback(sortData => {\n    const newSortedStates = [...sortedStates].sort((x, y) => {\n      if (sortData.sortColumn !== 'state') {\n        return sortData.isAscending ? parseInt(x[sortData.sortColumn]) - parseInt(y[sortData.sortColumn]) : parseInt(y[sortData.sortColumn]) - parseInt(x[sortData.sortColumn]);\n      } else {\n        return sortData.isAscending ? x[sortData.sortColumn].localeCompare(y[sortData.sortColumn]) : y[sortData.sortColumn].localeCompare(x[sortData.sortColumn]);\n      }\n    });\n    setSortedStates(newSortedStates);\n  }, [sortedStates]);\n  const handleSort = useCallback(statistic => {\n    const newSortData = {\n      isAscending: !sortData.isAscending,\n      sortColumn: statistic\n    };\n    doSort(newSortData);\n    setSortData(Object.assign({}, sortData, newSortData));\n  }, [doSort, setSortData, sortData]);\n  useEffectOnce(() => {\n    doSort(sortData);\n  });\n\n  if (states.length > 0) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ReactTooltip, {\n      place: \"right\",\n      type: \"dark\",\n      effect: \"solid\",\n      multiline: true,\n      globalEventOff: \"click\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }\n    }), FineprintTop, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table fadeInUp\",\n      style: {\n        animationDelay: '1.8s'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"state-heading\",\n      onClick: () => handleSort('state'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"heading-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"abbr\", {\n      title: \"State\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 19\n      }\n    }, t('State/UT')), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: sortData.sortColumn === 'state' ? 'initial' : 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames({\n        'arrow-up': sortData.isAscending\n      }, {\n        'arrow-down': !sortData.isAscending\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    })))), STATE_ROW_STATISTICS.map((statistic, index) => /*#__PURE__*/React.createElement(StateHeaderCell, {\n      key: index,\n      handleSort: handleSort,\n      sortData: sortData,\n      statistic: statistic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    })))), states && /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, sortedStates.map((state, index) => {\n      if (state.confirmed > 0 && state.statecode !== 'TT') {\n        var _districts$state$stat;\n\n        return /*#__PURE__*/React.createElement(Row, {\n          key: state.statecode,\n          state: state,\n          districts: (_districts$state$stat = districts[state.state]) === null || _districts$state$stat === void 0 ? void 0 : _districts$state$stat.districtData,\n          zones: zones[state.state],\n          regionHighlighted: equal(regionHighlighted === null || regionHighlighted === void 0 ? void 0 : regionHighlighted.state, state.state) ? regionHighlighted : null,\n          onHighlightState: onHighlightState,\n          onHighlightDistrict: onHighlightDistrict,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 21\n          }\n        });\n      }\n\n      return null;\n    })), states && /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      key: 0,\n      state: states[0],\n      onHighlightState: onHighlightState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 15\n      }\n    }))), states && FineprintBottom);\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 12\n      }\n    });\n  }\n}\n\nexport default React.memo(Table, isEqual);","map":{"version":3,"sources":["C:/Users/Jakith/JackPriyan.github.io/src/components/table.js"],"names":["Row","STATE_ROW_STATISTICS","capitalize","abbreviate","classnames","equal","React","useState","useMemo","useCallback","useTranslation","Link","ReactTooltip","createBreakpoint","useLocalStorage","useEffectOnce","useBreakpoint","XL","L","S","StateHeaderCell","handleSort","sortData","statistic","breakpoint","t","slice","display","sortColumn","isAscending","isEqual","prevProps","currProps","regionHighlighted","Table","states","districts","zones","onHighlightState","onHighlightDistrict","setSortData","sortedStates","setSortedStates","filter","state","statecode","FineprintTop","animationDelay","color","FineprintBottom","s","confirmed","length","doSort","newSortedStates","sort","x","y","parseInt","localeCompare","newSortData","Object","assign","map","index","districtData","height","memo"],"mappings":"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","sourcesContent":["import Row from './row';\r\n\r\nimport {STATE_ROW_STATISTICS} from '../constants';\r\nimport {capitalize, abbreviate} from '../utils/commonfunctions';\r\n\r\nimport classnames from 'classnames';\r\nimport equal from 'fast-deep-equal';\r\nimport React, {useState, useMemo, useCallback} from 'react';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {Link} from 'react-router-dom';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport {createBreakpoint, useLocalStorage, useEffectOnce} from 'react-use';\r\n\r\nconst useBreakpoint = createBreakpoint({XL: 1280, L: 768, S: 350});\r\n\r\nfunction StateHeaderCell({handleSort, sortData, statistic}) {\r\n  const breakpoint = useBreakpoint();\r\n  const {t} = useTranslation();\r\n\r\n  return (\r\n    <th onClick={() => handleSort(statistic)}>\r\n      <div className=\"heading-content\">\r\n        <abbr\r\n          className={classnames({[`is-${statistic}`]: breakpoint === 'S'})}\r\n          title={statistic}\r\n        >\r\n          {breakpoint === 'L'\r\n            ? statistic.slice(0)\r\n            : breakpoint === 'S'\r\n            ? capitalize(\r\n                abbreviate(statistic === 'deaths' ? 'deceased' : statistic)\r\n              )\r\n            : t(capitalize(statistic === 'deaths' ? 'deceased' : statistic))}\r\n        </abbr>\r\n        <div\r\n          style={{\r\n            display: sortData.sortColumn === statistic ? 'initial' : 'none',\r\n          }}\r\n        >\r\n          <div\r\n            className={classnames(\r\n              {'arrow-up': sortData.isAscending},\r\n              {'arrow-down': !sortData.isAscending}\r\n            )}\r\n          />\r\n        </div>\r\n      </div>\r\n    </th>\r\n  );\r\n}\r\n\r\nconst isEqual = (prevProps, currProps) => {\r\n  return equal(prevProps.regionHighlighted, currProps.regionHighlighted);\r\n};\r\n\r\nfunction Table({\r\n  states,\r\n  districts,\r\n  zones,\r\n  regionHighlighted,\r\n  onHighlightState,\r\n  onHighlightDistrict,\r\n}) {\r\n  const [sortData, setSortData] = useLocalStorage('sortData', {\r\n    sortColumn: 'confirmed',\r\n    isAscending: false,\r\n  });\r\n\r\n  const {t} = useTranslation();\r\n\r\n  const [sortedStates, setSortedStates] = useState(\r\n    states.filter((state) => state.statecode !== 'TT')\r\n  );\r\n\r\n  const FineprintTop = useMemo(\r\n    () => (\r\n      <React.Fragment>\r\n        <h5\r\n          className=\"table-fineprint fadeInUp\"\r\n          style={{animationDelay: '1.5s'}}\r\n        >\r\n          {t('Compiled from State Govt. numbers')},{' '}\r\n          <Link to=\"/about\" style={{color: '#6c757d'}}>\r\n            {t('know more')}!\r\n          </Link>\r\n        </h5>\r\n        <h5\r\n          className=\"table-fineprint fadeInUp\"\r\n          style={{animationDelay: '1.5s'}}\r\n        >\r\n          {t('District zones as published by MoHFW')}\r\n          {', '}\r\n          <a\r\n            href=\"https://www.facebook.com/airnewsalerts/photos/a.262571017217636/1710062729135117/?type=3&theater\"\r\n            style={{color: '#6c757d'}}\r\n          >\r\n            {t('source')}\r\n          </a>\r\n        </h5>\r\n      </React.Fragment>\r\n    ),\r\n    [t]\r\n  );\r\n\r\n  const FineprintBottom = useMemo(\r\n    () => (\r\n      <h5 className=\"table-fineprint fadeInUp\" style={{animationDelay: '1s'}}>\r\n        {states.slice(1).filter((s) => s && s.confirmed > 0).length} States/UTS\r\n        Affected\r\n      </h5>\r\n    ),\r\n    [states]\r\n  );\r\n\r\n  const doSort = useCallback(\r\n    (sortData) => {\r\n      const newSortedStates = [...sortedStates].sort((x, y) => {\r\n        if (sortData.sortColumn !== 'state') {\r\n          return sortData.isAscending\r\n            ? parseInt(x[sortData.sortColumn]) -\r\n                parseInt(y[sortData.sortColumn])\r\n            : parseInt(y[sortData.sortColumn]) -\r\n                parseInt(x[sortData.sortColumn]);\r\n        } else {\r\n          return sortData.isAscending\r\n            ? x[sortData.sortColumn].localeCompare(y[sortData.sortColumn])\r\n            : y[sortData.sortColumn].localeCompare(x[sortData.sortColumn]);\r\n        }\r\n      });\r\n      setSortedStates(newSortedStates);\r\n    },\r\n    [sortedStates]\r\n  );\r\n\r\n  const handleSort = useCallback(\r\n    (statistic) => {\r\n      const newSortData = {\r\n        isAscending: !sortData.isAscending,\r\n        sortColumn: statistic,\r\n      };\r\n      doSort(newSortData);\r\n      setSortData(Object.assign({}, sortData, newSortData));\r\n    },\r\n    [doSort, setSortData, sortData]\r\n  );\r\n\r\n  useEffectOnce(() => {\r\n    doSort(sortData);\r\n  });\r\n\r\n  if (states.length > 0) {\r\n    return (\r\n      <React.Fragment>\r\n        <ReactTooltip\r\n          place=\"right\"\r\n          type=\"dark\"\r\n          effect=\"solid\"\r\n          multiline={true}\r\n          globalEventOff=\"click\"\r\n        />\r\n\r\n        {FineprintTop}\r\n\r\n        <table className=\"table fadeInUp\" style={{animationDelay: '1.8s'}}>\r\n          <thead>\r\n            <tr>\r\n              <th className=\"state-heading\" onClick={() => handleSort('state')}>\r\n                <div className=\"heading-content\">\r\n                  <abbr title=\"State\">{t('State/UT')}</abbr>\r\n                  <div\r\n                    style={{\r\n                      display:\r\n                        sortData.sortColumn === 'state' ? 'initial' : 'none',\r\n                    }}\r\n                  >\r\n                    <div\r\n                      className={classnames(\r\n                        {'arrow-up': sortData.isAscending},\r\n                        {'arrow-down': !sortData.isAscending}\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </th>\r\n              {STATE_ROW_STATISTICS.map((statistic, index) => (\r\n                <StateHeaderCell\r\n                  key={index}\r\n                  handleSort={handleSort}\r\n                  sortData={sortData}\r\n                  statistic={statistic}\r\n                />\r\n              ))}\r\n            </tr>\r\n          </thead>\r\n\r\n          {states && (\r\n            <tbody>\r\n              {sortedStates.map((state, index) => {\r\n                if (state.confirmed > 0 && state.statecode !== 'TT') {\r\n                  return (\r\n                    <Row\r\n                      key={state.statecode}\r\n                      state={state}\r\n                      districts={districts[state.state]?.districtData}\r\n                      zones={zones[state.state]}\r\n                      regionHighlighted={\r\n                        equal(regionHighlighted?.state, state.state)\r\n                          ? regionHighlighted\r\n                          : null\r\n                      }\r\n                      onHighlightState={onHighlightState}\r\n                      onHighlightDistrict={onHighlightDistrict}\r\n                    />\r\n                  );\r\n                }\r\n                return null;\r\n              })}\r\n            </tbody>\r\n          )}\r\n\r\n          {states && (\r\n            <tbody>\r\n              <Row\r\n                key={0}\r\n                state={states[0]}\r\n                onHighlightState={onHighlightState}\r\n              />\r\n            </tbody>\r\n          )}\r\n        </table>\r\n        {states && FineprintBottom}\r\n      </React.Fragment>\r\n    );\r\n  } else {\r\n    return <div style={{height: '50rem'}}></div>;\r\n  }\r\n}\r\n\r\nexport default React.memo(Table, isEqual);\r\n"]},"metadata":{},"sourceType":"module"}