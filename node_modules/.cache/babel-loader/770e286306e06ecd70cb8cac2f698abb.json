{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Jakith\\\\JackPriyan.github.io\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import KnnResults from'./knnresults';import axios from'axios';import React,{useState,useEffect}from'react';import ContentLoader from'react-content-loader';import*as Icon from'react-feather';import{useMeasure}from'react-use';function EssentialsLoader(){var _useMeasure=useMeasure(),_useMeasure2=_slicedToArray(_useMeasure,2),svgElement=_useMeasure2[0],width=_useMeasure2[1].width;useEffect(function(){},[width]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{ref:svgElement,style:{width:'100%'}}),width&&/*#__PURE__*/React.createElement(ContentLoader,{speed:1.5,width:width,height:325,viewBox:\"0 0 \".concat(width,\" 325\"),position:\"absolute\",className:\"fadeInUp\"},/*#__PURE__*/React.createElement(\"rect\",{x:width/2-60,y:\"10\",rx:\"5\",ry:\"5\",width:\"120\",height:\"32\"}),/*#__PURE__*/React.createElement(\"rect\",{x:width/2+70,y:\"18\",rx:\"100\",ry:\"100\",width:\"15\",height:\"15\"}),/*#__PURE__*/React.createElement(\"rect\",{x:\"10\",y:\"80\",rx:\"5\",ry:\"5\",width:\"85\",height:\"32\"}),/*#__PURE__*/React.createElement(\"rect\",{x:\"100\",y:\"80\",rx:\"5\",ry:\"5\",width:\"65\",height:\"32\"}),/*#__PURE__*/React.createElement(\"rect\",{x:\"10\",y:\"130\",rx:\"5\",ry:\"5\",width:width-20,height:\"172\"})));}var Essentials=function Essentials(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentLocation=_useState2[0],setCurrentLocation=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentAddress=_useState4[0],setCurrentAddress=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),currentState=_useState6[0],setCurrentState=_useState6[1];var getLocation=function getLocation(){navigator.geolocation.getCurrentPosition(function(position){setCurrentLocation([position.coords.latitude,position.coords.longitude]);getCurrentAddress(position.coords.latitude,position.coords.longitude);});};var getCurrentAddress=function getCurrentAddress(lat,lng){try{axios.get('https://api.bigdatacloud.net/data/reverse-geocode-client?latitude='+lat+'&longitude='+lng+'&localityLanguage=en').then(function(response){setCurrentAddress(response.data.locality);setCurrentState(response.data.principalSubdivision);});}catch(err){console.log(err);setCurrentAddress('Error fetching name of your location');setCurrentState(null);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"Essentials\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/essentials_1.svg\",alt:\"essentials platform\",className:\"fadeInUp\",style:{animationDelay:'0.3s'}}),/*#__PURE__*/React.createElement(\"img\",{src:\"/essentials_2.svg\",alt:\"essentials woman pushing cart\",className:\"fadeInUp\",style:{position:'absolute',animationDelay:'0.1s'}}),!currentLocation&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"button\",{className:\"button fadeInUp\",style:{animationDelay:'0.6s'},onClick:function onClick(){return getLocation();}},\"View essentials nearby offering special assistance\"),/*#__PURE__*/React.createElement(\"div\",{className:\"alert fadeInUp\",style:{animationDelay:'0.7s'}},/*#__PURE__*/React.createElement(Icon.AlertOctagon,{size:16}),/*#__PURE__*/React.createElement(\"div\",{className:\"alert-right is-full\"},\"We do not collect any location data; they're all stored \\n              inside your browser and are inaccessible to us.\")),/*#__PURE__*/React.createElement(\"div\",{className:\"alert fadeInUp\",style:{animationDelay:'0.8s'}},/*#__PURE__*/React.createElement(Icon.AlertOctagon,{size:16}),/*#__PURE__*/React.createElement(\"div\",{className:\"alert-right is-full\"},\"We are a community sourced listing platform and are not associated\\n              with any of the organizations listed below. Although we verify all\\n              our listings, we request you to follow all the guidelines and take\\n              the necessary precautions. We encourage you to report any error or\\n              suspicious activity so that we can take immediate action.\"))),currentLocation&&!currentAddress&&/*#__PURE__*/React.createElement(EssentialsLoader,null),currentAddress&&/*#__PURE__*/React.createElement(\"div\",{className:\"address fadeInUp\"},/*#__PURE__*/React.createElement(\"h3\",null,currentAddress+', '+currentState),/*#__PURE__*/React.createElement(Icon.XCircle,{size:16,onClick:function onClick(){setCurrentLocation(null);setCurrentAddress(null);setCurrentState(null);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"Search\"},currentAddress&&/*#__PURE__*/React.createElement(KnnResults,{userLocation:currentLocation,userState:currentState})));};export default Essentials;","map":{"version":3,"sources":["C:/Users/Jakith/JackPriyan.github.io/src/components/essentials.js"],"names":["KnnResults","axios","React","useState","useEffect","ContentLoader","Icon","useMeasure","EssentialsLoader","svgElement","width","Essentials","props","currentLocation","setCurrentLocation","currentAddress","setCurrentAddress","currentState","setCurrentState","getLocation","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","getCurrentAddress","lat","lng","get","then","response","data","locality","principalSubdivision","err","console","log","animationDelay"],"mappings":"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","sourcesContent":["import KnnResults from './knnresults';\r\n\r\nimport axios from 'axios';\r\nimport React, {useState, useEffect} from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\nimport * as Icon from 'react-feather';\r\nimport {useMeasure} from 'react-use';\r\n\r\nfunction EssentialsLoader() {\r\n  const [svgElement, {width}] = useMeasure();\r\n\r\n  useEffect(() => {}, [width]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <span ref={svgElement} style={{width: '100%'}} />\r\n      {width && (\r\n        <ContentLoader\r\n          speed={1.5}\r\n          width={width}\r\n          height={325}\r\n          viewBox={`0 0 ${width} 325`}\r\n          position=\"absolute\"\r\n          className=\"fadeInUp\"\r\n        >\r\n          <rect\r\n            x={width / 2 - 60}\r\n            y=\"10\"\r\n            rx=\"5\"\r\n            ry=\"5\"\r\n            width=\"120\"\r\n            height=\"32\"\r\n          />\r\n          <rect\r\n            x={width / 2 + 70}\r\n            y=\"18\"\r\n            rx=\"100\"\r\n            ry=\"100\"\r\n            width=\"15\"\r\n            height=\"15\"\r\n          />\r\n          <rect x=\"10\" y=\"80\" rx=\"5\" ry=\"5\" width=\"85\" height=\"32\" />\r\n          <rect x=\"100\" y=\"80\" rx=\"5\" ry=\"5\" width=\"65\" height=\"32\" />\r\n          <rect x=\"10\" y=\"130\" rx=\"5\" ry=\"5\" width={width - 20} height=\"172\" />\r\n        </ContentLoader>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst Essentials = (props) => {\r\n  const [currentLocation, setCurrentLocation] = useState(null);\r\n  const [currentAddress, setCurrentAddress] = useState(null);\r\n  const [currentState, setCurrentState] = useState(null);\r\n\r\n  const getLocation = () => {\r\n    navigator.geolocation.getCurrentPosition((position) => {\r\n      setCurrentLocation([position.coords.latitude, position.coords.longitude]);\r\n      getCurrentAddress(position.coords.latitude, position.coords.longitude);\r\n    });\r\n  };\r\n\r\n  const getCurrentAddress = (lat, lng) => {\r\n    try {\r\n      axios\r\n        .get(\r\n          'https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=' +\r\n            lat +\r\n            '&longitude=' +\r\n            lng +\r\n            '&localityLanguage=en'\r\n        )\r\n        .then((response) => {\r\n          setCurrentAddress(response.data.locality);\r\n          setCurrentState(response.data.principalSubdivision);\r\n        });\r\n    } catch (err) {\r\n      console.log(err);\r\n      setCurrentAddress('Error fetching name of your location');\r\n      setCurrentState(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Essentials\">\r\n      <img\r\n        src=\"/essentials_1.svg\"\r\n        alt=\"essentials platform\"\r\n        className=\"fadeInUp\"\r\n        style={{animationDelay: '0.3s'}}\r\n      />\r\n      <img\r\n        src=\"/essentials_2.svg\"\r\n        alt=\"essentials woman pushing cart\"\r\n        className=\"fadeInUp\"\r\n        style={{position: 'absolute', animationDelay: '0.1s'}}\r\n      />\r\n\r\n      {!currentLocation && (\r\n        <React.Fragment>\r\n          <button\r\n            className=\"button fadeInUp\"\r\n            style={{animationDelay: '0.6s'}}\r\n            onClick={() => getLocation()}\r\n          >\r\n            View essentials nearby offering special assistance\r\n          </button>\r\n          <div className=\"alert fadeInUp\" style={{animationDelay: '0.7s'}}>\r\n            <Icon.AlertOctagon size={16} />\r\n            <div className=\"alert-right is-full\">\r\n              {`We do not collect any location data; they're all stored \r\n              inside your browser and are inaccessible to us.`}\r\n            </div>\r\n          </div>\r\n          <div className=\"alert fadeInUp\" style={{animationDelay: '0.8s'}}>\r\n            <Icon.AlertOctagon size={16} />\r\n            <div className=\"alert-right is-full\">\r\n              {`We are a community sourced listing platform and are not associated\r\n              with any of the organizations listed below. Although we verify all\r\n              our listings, we request you to follow all the guidelines and take\r\n              the necessary precautions. We encourage you to report any error or\r\n              suspicious activity so that we can take immediate action.`}\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )}\r\n\r\n      {currentLocation && !currentAddress && <EssentialsLoader />}\r\n\r\n      {currentAddress && (\r\n        <div className=\"address fadeInUp\">\r\n          <h3>{currentAddress + ', ' + currentState}</h3>\r\n\r\n          <Icon.XCircle\r\n            size={16}\r\n            onClick={() => {\r\n              setCurrentLocation(null);\r\n              setCurrentAddress(null);\r\n              setCurrentState(null);\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"Search\">\r\n        {currentAddress && (\r\n          <KnnResults userLocation={currentLocation} userState={currentState} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Essentials;\r\n"]},"metadata":{},"sourceType":"module"}