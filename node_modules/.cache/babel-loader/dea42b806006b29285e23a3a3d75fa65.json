{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakith\\\\JackPriyan.github.io\\\\src\\\\components\\\\patients.js\";\nimport PatientsView from './patientsview';\nimport { parse } from 'date-fns';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport * as Icon from 'react-feather';\nimport { useLockBodyScroll, useKeyPressEvent } from 'react-use';\n\nfunction Patients(props) {\n  const [patients, setPatients] = useState(props.patients);\n  const [patient, setPatient] = useState(props.patients.slice(-1));\n  const [logs, setLogs] = useState({});\n  const [modal, setModal] = useState(false);\n  useLockBodyScroll(modal);\n\n  window.onclick = function (event) {\n    const modal = document.getElementById('modal');\n\n    if (event.target === modal) {\n      setModal(false);\n    }\n  };\n\n  useKeyPressEvent('Escape', () => {\n    setModal(false);\n  });\n  useEffect(() => {\n    setPatients(props.patients);\n  }, [props.patients]);\n  const parseByDate = useCallback(patients => {\n    const log = {};\n\n    for (let i = 0; i < patients.length; i++) {\n      const day = new Date(parse(patients[i].dateannounced, 'dd/MM/yyyy', new Date()));\n\n      if (!(day in log)) {\n        const list = [];\n        list.push(patients[i]);\n        log[day] = list;\n      } else {\n        const list = log[day];\n        list.push(patients[i]);\n        log[day] = list;\n      }\n    }\n\n    setLogs(log);\n  }, []);\n  useEffect(() => {\n    if (patients.length) {\n      parseByDate(patients);\n    }\n  }, [parseByDate, patients]);\n\n  const switchPatient = patientIndexArg => {\n    if (patientIndexArg === '') return;\n\n    try {\n      const patientIndex = patientIndexArg.slice(1); // eslint-disable-next-line\n\n      patients.map((patient, index) => {\n        if (patient.patientnumber === patientIndex) setPatient(patient);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getClassNameFn = colorMode => {\n    switch (colorMode) {\n      case 'genders':\n        return patient => {\n          return `patient-card ${patient.gender === 'F' ? 'is-femme' : patient.gender === 'M' ? 'is-male' : ''} ${props.expand ? '' : 'is-small'}`;\n        };\n\n      case 'transmission':\n        return patient => {\n          return `patient-card ${patient.typeoftransmission === 'Local' ? 'is-local' : patient.typeoftransmission === 'Imported' ? 'is-imported' : ''} ${props.expand ? '' : 'is-small'}`;\n        };\n\n      case 'nationality':\n        return patient => {\n          return `patient-card ${patient.nationality === 'India' ? 'is-in' : patient.nationality === 'Myanmar' ? 'is-mm' : patient.nationality === 'Indonesia' ? 'is-id' : patient.nationality === 'United Kingdom' ? 'is-uk' : patient.nationality === 'United States of America' ? 'is-us' : patient.nationality === 'Thailand' ? 'is-th' : patient.nationality === 'Phillipines' ? 'is-ph' : patient.nationality === 'Italy' ? 'is-it' : patient.nationality === 'Canada' ? 'is-ca' : ''} ${props.expand ? '' : 'is-small'}`;\n        };\n\n      case 'age':\n        return patient => {\n          return `patient-card ${props.expand ? '' : 'is-small'}`;\n        };\n\n      default:\n        return patient => {\n          return `patient-card ${props.expand ? '' : 'is-small'}`;\n        };\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PatientsView, {\n    logs: logs,\n    setModal: setModal,\n    setPatient: setPatient,\n    expand: props.expand,\n    applyClass: getClassNameFn(props.colorMode),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }), modal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal\",\n    id: \"modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `modal-content ${modal ? 'fadeInUp' : 'fadeOutDown'}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"close-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon.XCircle, {\n    onClick: () => {\n      setModal(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }, \"#\", patient.patientnumber)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meta\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, \"Date Announced\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, patient.dateannounced ? patient.dateannounced : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, \"Contracted from\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"contracted-from\",\n    onClick: () => {\n      switchPatient(patient.contractedfromwhichpatientsuspected);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, patient.contractedfromwhichpatientsuspected ? patient.contractedfromwhichpatientsuspected : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, \"Detected City\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, patient.detectedcity ? patient.detectedcity : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, \"Detected District\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 15\n    }\n  }, patient.detecteddistrict ? patient.detecteddistrict : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, \"Detected State\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, patient.detectedstate ? patient.detectedstate : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, \"Nationality\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, patient.nationality ? patient.nationality : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }, \"Age\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, patient.agebracket ? patient.agebracket : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, patient.gender ? patient.gender : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, \"State Patient Number\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 15\n    }\n  }, patient.statepatientnumber ? patient.statepatientnumber : '?'), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 15\n    }\n  }, \"Type of transmission\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 15\n    }\n  }, patient.typeoftransmission ? patient.typeoftransmission : '?')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, \"Notes\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 15\n    }\n  }, patient.notes)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, \"Source 1\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: patient.source1,\n    target: \"_noblank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 15\n    }\n  }, patient.source1)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }, \"Source 2\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: patient.source2,\n    target: \"_noblank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }\n  }, patient.source2)), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, \"Source 3\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: patient.source3,\n    target: \"_noblank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, patient.source3)))));\n}\n\nexport default Patients;","map":{"version":3,"sources":["C:/Users/Jakith/JackPriyan.github.io/src/components/patients.js"],"names":["PatientsView","parse","React","useState","useEffect","useCallback","Icon","useLockBodyScroll","useKeyPressEvent","Patients","props","patients","setPatients","patient","setPatient","slice","logs","setLogs","modal","setModal","window","onclick","event","document","getElementById","target","parseByDate","log","i","length","day","Date","dateannounced","list","push","switchPatient","patientIndexArg","patientIndex","map","index","patientnumber","err","console","getClassNameFn","colorMode","gender","expand","typeoftransmission","nationality","contractedfromwhichpatientsuspected","detectedcity","detecteddistrict","detectedstate","agebracket","statepatientnumber","notes","source1","source2","source3"],"mappings":";AAAA,OAAOA,YAAP,MAAyB,gBAAzB;AAEA,SAAQC,KAAR,QAAoB,UAApB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,WAApC,QAAsD,OAAtD;AACA,OAAO,KAAKC,IAAZ,MAAsB,eAAtB;AACA,SAAQC,iBAAR,EAA2BC,gBAA3B,QAAkD,WAAlD;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAACO,KAAK,CAACC,QAAP,CAAxC;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAACO,KAAK,CAACC,QAAN,CAAeI,KAAf,CAAqB,CAAC,CAAtB,CAAD,CAAtC;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,KAAD,CAAlC;AAEAI,EAAAA,iBAAiB,CAACW,KAAD,CAAjB;;AAEAE,EAAAA,MAAM,CAACC,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAChC,UAAMJ,KAAK,GAAGK,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd;;AACA,QAAIF,KAAK,CAACG,MAAN,KAAiBP,KAArB,EAA4B;AAC1BC,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;AACF,GALD;;AAOAX,EAAAA,gBAAgB,CAAC,QAAD,EAAW,MAAM;AAC/BW,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,GAFe,CAAhB;AAIAf,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,WAAW,CAACF,KAAK,CAACC,QAAP,CAAX;AACD,GAFQ,EAEN,CAACD,KAAK,CAACC,QAAP,CAFM,CAAT;AAIA,QAAMe,WAAW,GAAGrB,WAAW,CAAEM,QAAD,IAAc;AAC5C,UAAMgB,GAAG,GAAG,EAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjB,QAAQ,CAACkB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,YAAME,GAAG,GAAG,IAAIC,IAAJ,CACV9B,KAAK,CAACU,QAAQ,CAACiB,CAAD,CAAR,CAAYI,aAAb,EAA4B,YAA5B,EAA0C,IAAID,IAAJ,EAA1C,CADK,CAAZ;;AAGA,UAAI,EAAED,GAAG,IAAIH,GAAT,CAAJ,EAAmB;AACjB,cAAMM,IAAI,GAAG,EAAb;AACAA,QAAAA,IAAI,CAACC,IAAL,CAAUvB,QAAQ,CAACiB,CAAD,CAAlB;AACAD,QAAAA,GAAG,CAACG,GAAD,CAAH,GAAWG,IAAX;AACD,OAJD,MAIO;AACL,cAAMA,IAAI,GAAGN,GAAG,CAACG,GAAD,CAAhB;AACAG,QAAAA,IAAI,CAACC,IAAL,CAAUvB,QAAQ,CAACiB,CAAD,CAAlB;AACAD,QAAAA,GAAG,CAACG,GAAD,CAAH,GAAWG,IAAX;AACD;AACF;;AACDhB,IAAAA,OAAO,CAACU,GAAD,CAAP;AACD,GAjB8B,EAiB5B,EAjB4B,CAA/B;AAmBAvB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,QAAQ,CAACkB,MAAb,EAAqB;AACnBH,MAAAA,WAAW,CAACf,QAAD,CAAX;AACD;AACF,GAJQ,EAIN,CAACe,WAAD,EAAcf,QAAd,CAJM,CAAT;;AAMA,QAAMwB,aAAa,GAAIC,eAAD,IAAqB;AACzC,QAAIA,eAAe,KAAK,EAAxB,EAA4B;;AAC5B,QAAI;AACF,YAAMC,YAAY,GAAGD,eAAe,CAACrB,KAAhB,CAAsB,CAAtB,CAArB,CADE,CAEF;;AACAJ,MAAAA,QAAQ,CAAC2B,GAAT,CAAa,CAACzB,OAAD,EAAU0B,KAAV,KAAoB;AAC/B,YAAI1B,OAAO,CAAC2B,aAAR,KAA0BH,YAA9B,EAA4CvB,UAAU,CAACD,OAAD,CAAV;AAC7C,OAFD;AAGD,KAND,CAME,OAAO4B,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACf,GAAR,CAAYc,GAAZ;AACD;AACF,GAXD;;AAaA,QAAME,cAAc,GAAIC,SAAD,IAAe;AACpC,YAAQA,SAAR;AACE,WAAK,SAAL;AACE,eAAQ/B,OAAD,IAAa;AAClB,iBAAQ,gBACNA,OAAO,CAACgC,MAAR,KAAmB,GAAnB,GACI,UADJ,GAEIhC,OAAO,CAACgC,MAAR,KAAmB,GAAnB,GACA,SADA,GAEA,EACL,IAAGnC,KAAK,CAACoC,MAAN,GAAe,EAAf,GAAoB,UAAW,EANnC;AAOD,SARD;;AASF,WAAK,cAAL;AACE,eAAQjC,OAAD,IAAa;AAClB,iBAAQ,gBACNA,OAAO,CAACkC,kBAAR,KAA+B,OAA/B,GACI,UADJ,GAEIlC,OAAO,CAACkC,kBAAR,KAA+B,UAA/B,GACA,aADA,GAEA,EACL,IAAGrC,KAAK,CAACoC,MAAN,GAAe,EAAf,GAAoB,UAAW,EANnC;AAOD,SARD;;AASF,WAAK,aAAL;AACE,eAAQjC,OAAD,IAAa;AAClB,iBAAQ,gBACNA,OAAO,CAACmC,WAAR,KAAwB,OAAxB,GACI,OADJ,GAEInC,OAAO,CAACmC,WAAR,KAAwB,SAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,WAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,gBAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,0BAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,UAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,aAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,OAAxB,GACA,OADA,GAEAnC,OAAO,CAACmC,WAAR,KAAwB,QAAxB,GACA,OADA,GAEA,EACL,IAAGtC,KAAK,CAACoC,MAAN,GAAe,EAAf,GAAoB,UAAW,EApBnC;AAqBD,SAtBD;;AAuBF,WAAK,KAAL;AACE,eAAQjC,OAAD,IAAa;AAClB,iBAAQ,gBAAeH,KAAK,CAACoC,MAAN,GAAe,EAAf,GAAoB,UAAW,EAAtD;AACD,SAFD;;AAGF;AACE,eAAQjC,OAAD,IAAa;AAClB,iBAAQ,gBAAeH,KAAK,CAACoC,MAAN,GAAe,EAAf,GAAoB,UAAW,EAAtD;AACD,SAFD;AAlDJ;AAsDD,GAvDD;;AAyDA,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,IAAI,EAAE9B,IADR;AAEE,IAAA,QAAQ,EAAEG,QAFZ;AAGE,IAAA,UAAU,EAAEL,UAHd;AAIE,IAAA,MAAM,EAAEJ,KAAK,CAACoC,MAJhB;AAKE,IAAA,UAAU,EAAEH,cAAc,CAACjC,KAAK,CAACkC,SAAP,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASG1B,KAAK,iBACJ;AAAK,IAAA,SAAS,EAAC,OAAf;AAAuB,IAAA,EAAE,EAAC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAG,iBAAgBA,KAAK,GAAG,UAAH,GAAgB,aAAc,EADjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,OAAN;AACE,IAAA,OAAO,EAAE,MAAM;AACbC,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD,KAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,eAWE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAMN,OAAO,CAAC2B,aAAd,CADF,CAXF,eAeE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK3B,OAAO,CAACmB,aAAR,GAAwBnB,OAAO,CAACmB,aAAhC,GAAgD,GAArD,CAFF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAJF,eAKE;AACE,IAAA,SAAS,EAAC,iBADZ;AAEE,IAAA,OAAO,EAAE,MAAM;AACbG,MAAAA,aAAa,CAACtB,OAAO,CAACoC,mCAAT,CAAb;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGpC,OAAO,CAACoC,mCAAR,GACGpC,OAAO,CAACoC,mCADX,GAEG,GARN,CALF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAhBF,eAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKpC,OAAO,CAACqC,YAAR,GAAuBrC,OAAO,CAACqC,YAA/B,GAA8C,GAAnD,CAjBF,eAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAnBF,eAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrC,OAAO,CAACsC,gBAAR,GAA2BtC,OAAO,CAACsC,gBAAnC,GAAsD,GADzD,CApBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAxBF,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKtC,OAAO,CAACuC,aAAR,GAAwBvC,OAAO,CAACuC,aAAhC,GAAgD,GAArD,CAzBF,eA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA3BF,eA4BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKvC,OAAO,CAACmC,WAAR,GAAsBnC,OAAO,CAACmC,WAA9B,GAA4C,GAAjD,CA5BF,eA8BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WA9BF,eA+BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnC,OAAO,CAACwC,UAAR,GAAqBxC,OAAO,CAACwC,UAA7B,GAA0C,GAA/C,CA/BF,eAiCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAjCF,eAkCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKxC,OAAO,CAACgC,MAAR,GAAiBhC,OAAO,CAACgC,MAAzB,GAAkC,GAAvC,CAlCF,eAoCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BApCF,eAqCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,OAAO,CAACyC,kBAAR,GAA6BzC,OAAO,CAACyC,kBAArC,GAA0D,GAD7D,CArCF,eAyCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAzCF,eA0CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzC,OAAO,CAACkC,kBAAR,GAA6BlC,OAAO,CAACkC,kBAArC,GAA0D,GAD7D,CA1CF,CAfF,eA8DE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKlC,OAAO,CAAC0C,KAAb,CAFF,CA9DF,eAmEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnEF,eAoEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAE1C,OAAO,CAAC2C,OAAjB;AAA0B,IAAA,MAAM,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3C,OAAO,CAAC2C,OADX,CADF,CApEF,eA0EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1EF,eA2EE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAE3C,OAAO,CAAC4C,OAAjB;AAA0B,IAAA,MAAM,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5C,OAAO,CAAC4C,OADX,CADF,CA3EF,eAiFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjFF,eAkFE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,IAAI,EAAE5C,OAAO,CAAC6C,OAAjB;AAA0B,IAAA,MAAM,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7C,OAAO,CAAC6C,OADX,CADF,CAlFF,CADF,CAVJ,CADF;AAwGD;;AAED,eAAejD,QAAf","sourcesContent":["import PatientsView from './patientsview';\r\n\r\nimport {parse} from 'date-fns';\r\nimport React, {useState, useEffect, useCallback} from 'react';\r\nimport * as Icon from 'react-feather';\r\nimport {useLockBodyScroll, useKeyPressEvent} from 'react-use';\r\n\r\nfunction Patients(props) {\r\n  const [patients, setPatients] = useState(props.patients);\r\n  const [patient, setPatient] = useState(props.patients.slice(-1));\r\n  const [logs, setLogs] = useState({});\r\n  const [modal, setModal] = useState(false);\r\n\r\n  useLockBodyScroll(modal);\r\n\r\n  window.onclick = function (event) {\r\n    const modal = document.getElementById('modal');\r\n    if (event.target === modal) {\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  useKeyPressEvent('Escape', () => {\r\n    setModal(false);\r\n  });\r\n\r\n  useEffect(() => {\r\n    setPatients(props.patients);\r\n  }, [props.patients]);\r\n\r\n  const parseByDate = useCallback((patients) => {\r\n    const log = {};\r\n    for (let i = 0; i < patients.length; i++) {\r\n      const day = new Date(\r\n        parse(patients[i].dateannounced, 'dd/MM/yyyy', new Date())\r\n      );\r\n      if (!(day in log)) {\r\n        const list = [];\r\n        list.push(patients[i]);\r\n        log[day] = list;\r\n      } else {\r\n        const list = log[day];\r\n        list.push(patients[i]);\r\n        log[day] = list;\r\n      }\r\n    }\r\n    setLogs(log);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (patients.length) {\r\n      parseByDate(patients);\r\n    }\r\n  }, [parseByDate, patients]);\r\n\r\n  const switchPatient = (patientIndexArg) => {\r\n    if (patientIndexArg === '') return;\r\n    try {\r\n      const patientIndex = patientIndexArg.slice(1);\r\n      // eslint-disable-next-line\r\n      patients.map((patient, index) => {\r\n        if (patient.patientnumber === patientIndex) setPatient(patient);\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const getClassNameFn = (colorMode) => {\r\n    switch (colorMode) {\r\n      case 'genders':\r\n        return (patient) => {\r\n          return `patient-card ${\r\n            patient.gender === 'F'\r\n              ? 'is-femme'\r\n              : patient.gender === 'M'\r\n              ? 'is-male'\r\n              : ''\r\n          } ${props.expand ? '' : 'is-small'}`;\r\n        };\r\n      case 'transmission':\r\n        return (patient) => {\r\n          return `patient-card ${\r\n            patient.typeoftransmission === 'Local'\r\n              ? 'is-local'\r\n              : patient.typeoftransmission === 'Imported'\r\n              ? 'is-imported'\r\n              : ''\r\n          } ${props.expand ? '' : 'is-small'}`;\r\n        };\r\n      case 'nationality':\r\n        return (patient) => {\r\n          return `patient-card ${\r\n            patient.nationality === 'India'\r\n              ? 'is-in'\r\n              : patient.nationality === 'Myanmar'\r\n              ? 'is-mm'\r\n              : patient.nationality === 'Indonesia'\r\n              ? 'is-id'\r\n              : patient.nationality === 'United Kingdom'\r\n              ? 'is-uk'\r\n              : patient.nationality === 'United States of America'\r\n              ? 'is-us'\r\n              : patient.nationality === 'Thailand'\r\n              ? 'is-th'\r\n              : patient.nationality === 'Phillipines'\r\n              ? 'is-ph'\r\n              : patient.nationality === 'Italy'\r\n              ? 'is-it'\r\n              : patient.nationality === 'Canada'\r\n              ? 'is-ca'\r\n              : ''\r\n          } ${props.expand ? '' : 'is-small'}`;\r\n        };\r\n      case 'age':\r\n        return (patient) => {\r\n          return `patient-card ${props.expand ? '' : 'is-small'}`;\r\n        };\r\n      default:\r\n        return (patient) => {\r\n          return `patient-card ${props.expand ? '' : 'is-small'}`;\r\n        };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <PatientsView\r\n        logs={logs}\r\n        setModal={setModal}\r\n        setPatient={setPatient}\r\n        expand={props.expand}\r\n        applyClass={getClassNameFn(props.colorMode)}\r\n      />\r\n\r\n      {modal && (\r\n        <div className=\"modal\" id=\"modal\">\r\n          <div\r\n            className={`modal-content ${modal ? 'fadeInUp' : 'fadeOutDown'}`}\r\n          >\r\n            <div className=\"close-button\">\r\n              <Icon.XCircle\r\n                onClick={() => {\r\n                  setModal(false);\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"modal-top\">\r\n              <h1>#{patient.patientnumber}</h1>\r\n            </div>\r\n\r\n            <div className=\"meta\">\r\n              <h5>Date Announced</h5>\r\n              <h3>{patient.dateannounced ? patient.dateannounced : '?'}</h3>\r\n\r\n              <h5>Contracted from</h5>\r\n              <h3\r\n                className=\"contracted-from\"\r\n                onClick={() => {\r\n                  switchPatient(patient.contractedfromwhichpatientsuspected);\r\n                }}\r\n              >\r\n                {patient.contractedfromwhichpatientsuspected\r\n                  ? patient.contractedfromwhichpatientsuspected\r\n                  : '?'}\r\n              </h3>\r\n\r\n              <h5>Detected City</h5>\r\n              <h3>{patient.detectedcity ? patient.detectedcity : '?'}</h3>\r\n\r\n              <h5>Detected District</h5>\r\n              <h3>\r\n                {patient.detecteddistrict ? patient.detecteddistrict : '?'}\r\n              </h3>\r\n\r\n              <h5>Detected State</h5>\r\n              <h3>{patient.detectedstate ? patient.detectedstate : '?'}</h3>\r\n\r\n              <h5>Nationality</h5>\r\n              <h3>{patient.nationality ? patient.nationality : '?'}</h3>\r\n\r\n              <h5>Age</h5>\r\n              <h3>{patient.agebracket ? patient.agebracket : '?'}</h3>\r\n\r\n              <h5>Gender</h5>\r\n              <h3>{patient.gender ? patient.gender : '?'}</h3>\r\n\r\n              <h5>State Patient Number</h5>\r\n              <h3>\r\n                {patient.statepatientnumber ? patient.statepatientnumber : '?'}\r\n              </h3>\r\n\r\n              <h5>Type of transmission</h5>\r\n              <h3>\r\n                {patient.typeoftransmission ? patient.typeoftransmission : '?'}\r\n              </h3>\r\n            </div>\r\n\r\n            <div className=\"notes\">\r\n              <h5>Notes</h5>\r\n              <h3>{patient.notes}</h3>\r\n            </div>\r\n\r\n            <h5>Source 1</h5>\r\n            <div className=\"link\">\r\n              <a href={patient.source1} target=\"_noblank\">\r\n                {patient.source1}\r\n              </a>\r\n            </div>\r\n\r\n            <h5>Source 2</h5>\r\n            <div className=\"link\">\r\n              <a href={patient.source2} target=\"_noblank\">\r\n                {patient.source2}\r\n              </a>\r\n            </div>\r\n\r\n            <h5>Source 3</h5>\r\n            <div className=\"link\">\r\n              <a href={patient.source3} target=\"_noblank\">\r\n                {patient.source3}\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Patients;\r\n"]},"metadata":{},"sourceType":"module"}