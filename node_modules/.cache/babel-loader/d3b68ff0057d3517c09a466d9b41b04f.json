{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jakith\\\\JackPriyan.github.io\\\\src\\\\components\\\\search.js\";\nimport { STATE_CODES_ARRAY, STATE_CODES_REVERSE, STATE_CODES } from '../constants';\nimport classnames from 'classnames';\nimport Bloodhound from 'corejs-typeahead';\nimport React, { useState, useCallback, useRef } from 'react';\nimport * as Icon from 'react-feather';\nimport { useTranslation } from 'react-i18next';\nimport { Link } from 'react-router-dom';\nimport { useDebounce } from 'react-use';\nconst engine = new Bloodhound({\n  initialize: true,\n  local: STATE_CODES_ARRAY,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name')\n});\nconst districtEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('district'),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/state_district_wise.json',\n    transform: function (response) {\n      const districts = [];\n      Object.keys(response).map(stateName => {\n        const districtData = response[stateName].districtData;\n        Object.keys(districtData).map(districtName => {\n          return districts.push({\n            district: districtName,\n            state: stateName\n          });\n        });\n        return null;\n      });\n      return districts;\n    }\n  }\n});\nconst essentialsEngine = new Bloodhound({\n  initialize: true,\n  limit: 5,\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('category', 'city', 'contact', 'descriptionandorserviceprovided', 'nameoftheorganisation', 'state'),\n  indexRemote: true,\n  remote: {\n    url: 'https://api.covid19india.org/resources/resources.json',\n    transform: function (response) {\n      return response.resources;\n    }\n  }\n});\n/* let focused = false;\r\nconst suggestions = [\r\n  'Karnataka',\r\n  'West Bengal',\r\n  'Alappuzha',\r\n  'Senior citizen support bangalore',\r\n  'Community Kitchen in Kerala',\r\n  'Groceries Chennai',\r\n];*/\n\nfunction Search({\n  districtZones\n}) {\n  const [searchValue, setSearchValue] = useState('');\n  const [expand, setExpand] = useState(false);\n  const [results, setResults] = useState([]);\n  const searchInput = useRef(null);\n  const {\n    t\n  } = useTranslation();\n  const handleSearch = useCallback(searchInput => {\n    const results = [];\n\n    const sync = datums => {\n      datums.map((result, index) => {\n        const stateObj = {\n          name: result.name,\n          type: 'state',\n          route: result.code\n        };\n        results.push(stateObj);\n        return null;\n      });\n    };\n\n    const districtSync = datums => {\n      datums.slice(0, 3).map((result, index) => {\n        const districtObj = {\n          name: result.district,\n          type: 'district',\n          route: STATE_CODES_REVERSE[result.state]\n        };\n        results.push(districtObj);\n        return null;\n      });\n    };\n\n    const essentialsSync = datums => {\n      datums.slice(0, 5).map((result, index) => {\n        const essentialsObj = {\n          name: result.nameoftheorganisation,\n          type: 'essentials',\n          category: result.category,\n          website: result.contact,\n          description: result.descriptionandorserviceprovided,\n          city: result.city,\n          state: result.state,\n          contact: result.phonenumber\n        };\n        results.push(essentialsObj);\n        return null;\n      });\n      setResults([...results]);\n    };\n\n    engine.search(searchInput, sync);\n    districtEngine.search(searchInput, districtSync);\n    essentialsEngine.search(searchInput, essentialsSync);\n  }, []);\n  useDebounce(() => {\n    if (searchValue) {\n      handleSearch(searchValue);\n    } else {\n      setResults([]);\n    }\n  }, 100, [searchValue]);\n\n  function setNativeValue(element, value) {\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\n    const prototype = Object.getPrototypeOf(element);\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(prototype, 'value').set;\n\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\n      prototypeValueSetter.call(element, value);\n    } else {\n      valueSetter.call(element, value);\n    }\n  }\n  /* function fillPlaceholder(target, index, cursorPosition, callback) {\r\n    if (focused) {\r\n      target.textContent = '';\r\n      return true;\r\n    }\r\n    const text = t(suggestions[index]);\r\n    const placeholder = target.textContent;\r\n    target.classList.remove('disappear');\r\n    target.textContent = placeholder + text[cursorPosition];\r\n    if (cursorPosition < text.length - 1) {\r\n      setTimeout(function () {\r\n        fillPlaceholder(target, index, cursorPosition + 1, callback);\r\n      }, 200);\r\n      return true;\r\n    }\r\n    callback();\r\n  }\r\n    function clearPlaceholder(target, callback) {\r\n    const placeholder = target.textContent;\r\n    target.classList.add('disappear');\r\n    if (placeholder.length > 0) {\r\n      setTimeout(function () {\r\n        target.textContent = '';\r\n        clearPlaceholder(target, callback);\r\n      }, 1000);\r\n      return true;\r\n    }\r\n    callback();\r\n  }\r\n    function loopThroughSuggestions(target, index) {\r\n    if (focused) {\r\n      target.textContent = '';\r\n      return true;\r\n    }\r\n    fillPlaceholder(target, index, 0, function () {\r\n      setTimeout(function () {\r\n        clearPlaceholder(target, function () {\r\n          loopThroughSuggestions(target, (index + 1) % suggestions.length);\r\n        });\r\n      }, 2000);\r\n    });\r\n  }\r\n    const targetInput = document.getElementById('search-placeholder');\r\n  if (targetInput) loopThroughSuggestions(targetInput, 0);*/\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, t('Search your city, resources, etc')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: searchValue,\n    ref: searchInput,\n    onFocus: event => {\n      setExpand(true);\n    },\n    onBlur: () => {\n      setExpand(false);\n    },\n    onChange: event => {\n      setSearchValue(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"search-placeholder\",\n    className: \"search-placeholder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `search-button`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon.Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  })), searchValue.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: `close-button`,\n    onClick: () => {\n      setSearchValue('');\n      setResults([]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon.X, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }))), results.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, results.map((result, index) => {\n    if (result.type === 'state' || result.type === 'district') {\n      var _districtZones$STATE_;\n\n      return /*#__PURE__*/React.createElement(Link, {\n        key: index,\n        to: `state/${result.route}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 23\n        }\n      }, `${result.name}`, result.type === 'district' && `, ${STATE_CODES[result.route]}`), /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames('result-zone', {\n          [`is-${(_districtZones$STATE_ = districtZones[STATE_CODES[result.route]][result.name]) === null || _districtZones$STATE_ === void 0 ? void 0 : _districtZones$STATE_.zone.toLowerCase()}`]: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-type\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 23\n        }\n      }, [result.route]), /*#__PURE__*/React.createElement(Icon.ArrowRightCircle, {\n        size: 14,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 23\n        }\n      }))));\n    } else {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        key: index,\n        href: result.website,\n        target: \"_noblank\",\n        className: \"essential-result\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-top-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 23\n        }\n      }, result.name), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-location\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 23\n        }\n      }, result.city, \", \", result.state)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-category\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 23\n        }\n      }, result.category.match('Delivery') ? 'Home Delivery' : result.category), /*#__PURE__*/React.createElement(Icon.ExternalLink, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-description\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 19\n        }\n      }, result.description), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"result-contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Icon.Phone, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }\n      }, result.contact)));\n    }\n  })), expand && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }, t('Essentials')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Testing Pune');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }\n  }, t('Testing Pune'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Delhi Shelter');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }\n  }, t('Delhi Shelter'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Community Kitchen in Kerala');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, t('Community Kitchen in Kerala'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Groceries Chennai');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 17\n    }\n  }, t('Groceries Chennai'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Senior citizen support bangalore');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 17\n    }\n  }, t('Senior citizen support bangalore'))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expanded-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 13\n    }\n  }, t('Locations')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Hyderabad');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 17\n    }\n  }, t('Hyderabad'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Karnataka');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 17\n    }\n  }, t('Karnataka'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Chennai');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 17\n    }\n  }, t('Chennai'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Jharkhand');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 17\n    }\n  }, t('Jharkhand'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"suggestion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 17\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"h4\", {\n    onMouseDown: event => {\n      event.preventDefault();\n      setNativeValue(searchInput.current, 'Alappuzha');\n      searchInput.current.dispatchEvent(new Event('input', {\n        bubbles: true\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 17\n    }\n  }, t('Alappuzha')))))));\n}\n\nexport default React.memo(Search);","map":{"version":3,"sources":["C:/Users/Jakith/JackPriyan.github.io/src/components/search.js"],"names":["STATE_CODES_ARRAY","STATE_CODES_REVERSE","STATE_CODES","classnames","Bloodhound","React","useState","useCallback","useRef","Icon","useTranslation","Link","useDebounce","engine","initialize","local","queryTokenizer","tokenizers","whitespace","datumTokenizer","obj","districtEngine","limit","indexRemote","remote","url","transform","response","districts","Object","keys","map","stateName","districtData","districtName","push","district","state","essentialsEngine","resources","Search","districtZones","searchValue","setSearchValue","expand","setExpand","results","setResults","searchInput","t","handleSearch","sync","datums","result","index","stateObj","name","type","route","code","districtSync","slice","districtObj","essentialsSync","essentialsObj","nameoftheorganisation","category","website","contact","description","descriptionandorserviceprovided","city","phonenumber","search","setNativeValue","element","value","valueSetter","getOwnPropertyDescriptor","set","prototype","getPrototypeOf","prototypeValueSetter","call","event","target","length","zone","toLowerCase","match","preventDefault","current","dispatchEvent","Event","bubbles","memo"],"mappings":";AAAA,SACEA,iBADF,EAEEC,mBAFF,EAGEC,WAHF,QAIO,cAJP;AAMA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,OAAOC,KAAP,IAAeC,QAAf,EAAyBC,WAAzB,EAAsCC,MAAtC,QAAmD,OAAnD;AACA,OAAO,KAAKC,IAAZ,MAAsB,eAAtB;AACA,SAAQC,cAAR,QAA6B,eAA7B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,WAAR,QAA0B,WAA1B;AAEA,MAAMC,MAAM,GAAG,IAAIT,UAAJ,CAAe;AAC5BU,EAAAA,UAAU,EAAE,IADgB;AAE5BC,EAAAA,KAAK,EAAEf,iBAFqB;AAG5BgB,EAAAA,cAAc,EAAEZ,UAAU,CAACa,UAAX,CAAsBC,UAHV;AAI5BC,EAAAA,cAAc,EAAEf,UAAU,CAACa,UAAX,CAAsBG,GAAtB,CAA0BF,UAA1B,CAAqC,MAArC;AAJY,CAAf,CAAf;AAOA,MAAMG,cAAc,GAAG,IAAIjB,UAAJ,CAAe;AACpCU,EAAAA,UAAU,EAAE,IADwB;AAEpCQ,EAAAA,KAAK,EAAE,CAF6B;AAGpCN,EAAAA,cAAc,EAAEZ,UAAU,CAACa,UAAX,CAAsBC,UAHF;AAIpCC,EAAAA,cAAc,EAAEf,UAAU,CAACa,UAAX,CAAsBG,GAAtB,CAA0BF,UAA1B,CAAqC,UAArC,CAJoB;AAKpCK,EAAAA,WAAW,EAAE,IALuB;AAMpCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,uDADC;AAENC,IAAAA,SAAS,EAAE,UAAUC,QAAV,EAAoB;AAC7B,YAAMC,SAAS,GAAG,EAAlB;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYH,QAAZ,EAAsBI,GAAtB,CAA2BC,SAAD,IAAe;AACvC,cAAMC,YAAY,GAAGN,QAAQ,CAACK,SAAD,CAAR,CAAoBC,YAAzC;AACAJ,QAAAA,MAAM,CAACC,IAAP,CAAYG,YAAZ,EAA0BF,GAA1B,CAA+BG,YAAD,IAAkB;AAC9C,iBAAON,SAAS,CAACO,IAAV,CAAe;AAACC,YAAAA,QAAQ,EAAEF,YAAX;AAAyBG,YAAAA,KAAK,EAAEL;AAAhC,WAAf,CAAP;AACD,SAFD;AAGA,eAAO,IAAP;AACD,OAND;AAOA,aAAOJ,SAAP;AACD;AAZK;AAN4B,CAAf,CAAvB;AAsBA,MAAMU,gBAAgB,GAAG,IAAIlC,UAAJ,CAAe;AACtCU,EAAAA,UAAU,EAAE,IAD0B;AAEtCQ,EAAAA,KAAK,EAAE,CAF+B;AAGtCN,EAAAA,cAAc,EAAEZ,UAAU,CAACa,UAAX,CAAsBC,UAHA;AAItCC,EAAAA,cAAc,EAAEf,UAAU,CAACa,UAAX,CAAsBG,GAAtB,CAA0BF,UAA1B,CACd,UADc,EAEd,MAFc,EAGd,SAHc,EAId,iCAJc,EAKd,uBALc,EAMd,OANc,CAJsB;AAYtCK,EAAAA,WAAW,EAAE,IAZyB;AAatCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,GAAG,EAAE,uDADC;AAENC,IAAAA,SAAS,EAAE,UAAUC,QAAV,EAAoB;AAC7B,aAAOA,QAAQ,CAACY,SAAhB;AACD;AAJK;AAb8B,CAAf,CAAzB;AAqBA;;;;;;;;;;AAUA,SAASC,MAAT,CAAgB;AAACC,EAAAA;AAAD,CAAhB,EAAiC;AAC/B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCrC,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACsC,MAAD,EAASC,SAAT,IAAsBvC,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM,CAACwC,OAAD,EAAUC,UAAV,IAAwBzC,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM0C,WAAW,GAAGxC,MAAM,CAAC,IAAD,CAA1B;AACA,QAAM;AAACyC,IAAAA;AAAD,MAAMvC,cAAc,EAA1B;AAEA,QAAMwC,YAAY,GAAG3C,WAAW,CAAEyC,WAAD,IAAiB;AAChD,UAAMF,OAAO,GAAG,EAAhB;;AAEA,UAAMK,IAAI,GAAIC,MAAD,IAAY;AACvBA,MAAAA,MAAM,CAACrB,GAAP,CAAW,CAACsB,MAAD,EAASC,KAAT,KAAmB;AAC5B,cAAMC,QAAQ,GAAG;AACfC,UAAAA,IAAI,EAAEH,MAAM,CAACG,IADE;AAEfC,UAAAA,IAAI,EAAE,OAFS;AAGfC,UAAAA,KAAK,EAAEL,MAAM,CAACM;AAHC,SAAjB;AAKAb,QAAAA,OAAO,CAACX,IAAR,CAAaoB,QAAb;AACA,eAAO,IAAP;AACD,OARD;AASD,KAVD;;AAYA,UAAMK,YAAY,GAAIR,MAAD,IAAY;AAC/BA,MAAAA,MAAM,CAACS,KAAP,CAAa,CAAb,EAAgB,CAAhB,EAAmB9B,GAAnB,CAAuB,CAACsB,MAAD,EAASC,KAAT,KAAmB;AACxC,cAAMQ,WAAW,GAAG;AAClBN,UAAAA,IAAI,EAAEH,MAAM,CAACjB,QADK;AAElBqB,UAAAA,IAAI,EAAE,UAFY;AAGlBC,UAAAA,KAAK,EAAEzD,mBAAmB,CAACoD,MAAM,CAAChB,KAAR;AAHR,SAApB;AAKAS,QAAAA,OAAO,CAACX,IAAR,CAAa2B,WAAb;AACA,eAAO,IAAP;AACD,OARD;AASD,KAVD;;AAYA,UAAMC,cAAc,GAAIX,MAAD,IAAY;AACjCA,MAAAA,MAAM,CAACS,KAAP,CAAa,CAAb,EAAgB,CAAhB,EAAmB9B,GAAnB,CAAuB,CAACsB,MAAD,EAASC,KAAT,KAAmB;AACxC,cAAMU,aAAa,GAAG;AACpBR,UAAAA,IAAI,EAAEH,MAAM,CAACY,qBADO;AAEpBR,UAAAA,IAAI,EAAE,YAFc;AAGpBS,UAAAA,QAAQ,EAAEb,MAAM,CAACa,QAHG;AAIpBC,UAAAA,OAAO,EAAEd,MAAM,CAACe,OAJI;AAKpBC,UAAAA,WAAW,EAAEhB,MAAM,CAACiB,+BALA;AAMpBC,UAAAA,IAAI,EAAElB,MAAM,CAACkB,IANO;AAOpBlC,UAAAA,KAAK,EAAEgB,MAAM,CAAChB,KAPM;AAQpB+B,UAAAA,OAAO,EAAEf,MAAM,CAACmB;AARI,SAAtB;AAUA1B,QAAAA,OAAO,CAACX,IAAR,CAAa6B,aAAb;AACA,eAAO,IAAP;AACD,OAbD;AAcAjB,MAAAA,UAAU,CAAC,CAAC,GAAGD,OAAJ,CAAD,CAAV;AACD,KAhBD;;AAkBAjC,IAAAA,MAAM,CAAC4D,MAAP,CAAczB,WAAd,EAA2BG,IAA3B;AACA9B,IAAAA,cAAc,CAACoD,MAAf,CAAsBzB,WAAtB,EAAmCY,YAAnC;AACAtB,IAAAA,gBAAgB,CAACmC,MAAjB,CAAwBzB,WAAxB,EAAqCe,cAArC;AACD,GAhD+B,EAgD7B,EAhD6B,CAAhC;AAkDAnD,EAAAA,WAAW,CACT,MAAM;AACJ,QAAI8B,WAAJ,EAAiB;AACfQ,MAAAA,YAAY,CAACR,WAAD,CAAZ;AACD,KAFD,MAEO;AACLK,MAAAA,UAAU,CAAC,EAAD,CAAV;AACD;AACF,GAPQ,EAQT,GARS,EAST,CAACL,WAAD,CATS,CAAX;;AAYA,WAASgC,cAAT,CAAwBC,OAAxB,EAAiCC,KAAjC,EAAwC;AACtC,UAAMC,WAAW,GAAGhD,MAAM,CAACiD,wBAAP,CAAgCH,OAAhC,EAAyC,OAAzC,EAAkDI,GAAtE;AACA,UAAMC,SAAS,GAAGnD,MAAM,CAACoD,cAAP,CAAsBN,OAAtB,CAAlB;AACA,UAAMO,oBAAoB,GAAGrD,MAAM,CAACiD,wBAAP,CAC3BE,SAD2B,EAE3B,OAF2B,EAG3BD,GAHF;;AAKA,QAAIF,WAAW,IAAIA,WAAW,KAAKK,oBAAnC,EAAyD;AACvDA,MAAAA,oBAAoB,CAACC,IAArB,CAA0BR,OAA1B,EAAmCC,KAAnC;AACD,KAFD,MAEO;AACLC,MAAAA,WAAW,CAACM,IAAZ,CAAiBR,OAAjB,EAA0BC,KAA1B;AACD;AACF;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQ3B,CAAC,CAAC,kCAAD,CAAT,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAIE;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEP,WAFT;AAGE,IAAA,GAAG,EAAEM,WAHP;AAIE,IAAA,OAAO,EAAGoC,KAAD,IAAW;AAClBvC,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD,KANH;AAOE,IAAA,MAAM,EAAE,MAAM;AACZA,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD,KATH;AAUE,IAAA,QAAQ,EAAGuC,KAAD,IAAW;AACnBzC,MAAAA,cAAc,CAACyC,KAAK,CAACC,MAAN,CAAaT,KAAd,CAAd;AACD,KAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAeE;AAAM,IAAA,EAAE,EAAC,oBAAT;AAA8B,IAAA,SAAS,EAAC,oBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,eAiBE;AAAK,IAAA,SAAS,EAAG,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,EAqBGlC,WAAW,CAAC4C,MAAZ,GAAqB,CAArB,iBACC;AACE,IAAA,SAAS,EAAG,cADd;AAEE,IAAA,OAAO,EAAE,MAAM;AACb3C,MAAAA,cAAc,CAAC,EAAD,CAAd;AACAI,MAAAA,UAAU,CAAC,EAAD,CAAV;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,IAAD,CAAM,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAtBJ,CAJF,EAsCGD,OAAO,CAACwC,MAAR,GAAiB,CAAjB,iBACC;AAAK,IAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxC,OAAO,CAACf,GAAR,CAAY,CAACsB,MAAD,EAASC,KAAT,KAAmB;AAC9B,QAAID,MAAM,CAACI,IAAP,KAAgB,OAAhB,IAA2BJ,MAAM,CAACI,IAAP,KAAgB,UAA/C,EAA2D;AAAA;;AACzD,0BACE,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEH,KAAX;AAAkB,QAAA,EAAE,EAAG,SAAQD,MAAM,CAACK,KAAM,EAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,GAAEL,MAAM,CAACG,IAAK,EADlB,EAEGH,MAAM,CAACI,IAAP,KAAgB,UAAhB,IACE,KAAIvD,WAAW,CAACmD,MAAM,CAACK,KAAR,CAAe,EAHnC,CADF,eAME;AACE,QAAA,SAAS,EAAEvD,UAAU,CAAC,aAAD,EAAgB;AACnC,WAAE,MAAD,yBAAMsC,aAAa,CAACvC,WAAW,CAACmD,MAAM,CAACK,KAAR,CAAZ,CAAb,CACLL,MAAM,CAACG,IADF,CAAN,0DAAM,sBAEJ+B,IAFI,CAECC,WAFD,EAEe,EAFtB,GAE0B;AAHS,SAAhB,CADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,eAeE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,CAACnC,MAAM,CAACK,KAAR,CAAP,CADF,eAEE,oBAAC,IAAD,CAAM,gBAAN;AAAuB,QAAA,IAAI,EAAE,EAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CAfF,CADF,CADF;AAwBD,KAzBD,MAyBO;AACL,0BACE;AACE,QAAA,GAAG,EAAEJ,KADP;AAEE,QAAA,IAAI,EAAED,MAAM,CAACc,OAFf;AAGE,QAAA,MAAM,EAAC,UAHT;AAIE,QAAA,SAAS,EAAC,kBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8Bd,MAAM,CAACG,IAArC,CADF,eAEE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGH,MAAM,CAACkB,IADV,QACkBlB,MAAM,CAAChB,KADzB,CAFF,CADF,eAOE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGgB,MAAM,CAACa,QAAP,CAAgBuB,KAAhB,CAAsB,UAAtB,IACG,eADH,GAEGpC,MAAM,CAACa,QAHb,CADF,eAME,oBAAC,IAAD,CAAM,YAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CAPF,CANF,eAsBE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqCb,MAAM,CAACgB,WAA5C,CAtBF,eAuBE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAMhB,MAAM,CAACe,OAAb,CAFF,CAvBF,CADF;AA8BD;AACF,GA1DA,CADH,CAvCJ,EAsGGxB,MAAM,iBACL;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKK,CAAC,CAAC,YAAD,CAAN,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,cAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,cAAD,CATJ,CAFF,CADF,eAeE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,eAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,eAAD,CATJ,CAFF,CAfF,eA6BE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CACZ1B,WAAW,CAAC2C,OADA,EAEZ,6BAFY,CAAd;AAIA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYG7C,CAAC,CAAC,6BAAD,CAZJ,CAFF,CA7BF,eA8CE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,mBAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,mBAAD,CATJ,CAFF,CA9CF,eA4DE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CACZ1B,WAAW,CAAC2C,OADA,EAEZ,kCAFY,CAAd;AAIA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAVH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYG7C,CAAC,CAAC,kCAAD,CAZJ,CAFF,CA5DF,CAFF,CADF,eAkFE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,CAAC,CAAC,WAAD,CAAN,CADF,eAEE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,WAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,WAAD,CATJ,CAFF,CADF,eAeE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,WAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,WAAD,CATJ,CAFF,CAfF,eA6BE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,SAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,SAAD,CATJ,CAFF,CA7BF,eA2CE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,WAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,WAAD,CATJ,CAFF,CA3CF,eAyDE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,eAEE;AACE,IAAA,WAAW,EAAGmC,KAAD,IAAW;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAhB,MAAAA,cAAc,CAAC1B,WAAW,CAAC2C,OAAb,EAAsB,WAAtB,CAAd;AACA3C,MAAAA,WAAW,CAAC2C,OAAZ,CAAoBC,aAApB,CACE,IAAIC,KAAJ,CAAU,OAAV,EAAmB;AAACC,QAAAA,OAAO,EAAE;AAAV,OAAnB,CADF;AAGD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASG7C,CAAC,CAAC,WAAD,CATJ,CAFF,CAzDF,CAFF,CAlFF,CAvGJ,CADF;AAyQD;;AAED,eAAe5C,KAAK,CAAC0F,IAAN,CAAWvD,MAAX,CAAf","sourcesContent":["import {\r\n  STATE_CODES_ARRAY,\r\n  STATE_CODES_REVERSE,\r\n  STATE_CODES,\r\n} from '../constants';\r\n\r\nimport classnames from 'classnames';\r\nimport Bloodhound from 'corejs-typeahead';\r\nimport React, {useState, useCallback, useRef} from 'react';\r\nimport * as Icon from 'react-feather';\r\nimport {useTranslation} from 'react-i18next';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDebounce} from 'react-use';\r\n\r\nconst engine = new Bloodhound({\r\n  initialize: true,\r\n  local: STATE_CODES_ARRAY,\r\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\r\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),\r\n});\r\n\r\nconst districtEngine = new Bloodhound({\r\n  initialize: true,\r\n  limit: 5,\r\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\r\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace('district'),\r\n  indexRemote: true,\r\n  remote: {\r\n    url: 'https://api.covid19india.org/state_district_wise.json',\r\n    transform: function (response) {\r\n      const districts = [];\r\n      Object.keys(response).map((stateName) => {\r\n        const districtData = response[stateName].districtData;\r\n        Object.keys(districtData).map((districtName) => {\r\n          return districts.push({district: districtName, state: stateName});\r\n        });\r\n        return null;\r\n      });\r\n      return districts;\r\n    },\r\n  },\r\n});\r\n\r\nconst essentialsEngine = new Bloodhound({\r\n  initialize: true,\r\n  limit: 5,\r\n  queryTokenizer: Bloodhound.tokenizers.whitespace,\r\n  datumTokenizer: Bloodhound.tokenizers.obj.whitespace(\r\n    'category',\r\n    'city',\r\n    'contact',\r\n    'descriptionandorserviceprovided',\r\n    'nameoftheorganisation',\r\n    'state'\r\n  ),\r\n  indexRemote: true,\r\n  remote: {\r\n    url: 'https://api.covid19india.org/resources/resources.json',\r\n    transform: function (response) {\r\n      return response.resources;\r\n    },\r\n  },\r\n});\r\n\r\n/* let focused = false;\r\nconst suggestions = [\r\n  'Karnataka',\r\n  'West Bengal',\r\n  'Alappuzha',\r\n  'Senior citizen support bangalore',\r\n  'Community Kitchen in Kerala',\r\n  'Groceries Chennai',\r\n];*/\r\n\r\nfunction Search({districtZones}) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [expand, setExpand] = useState(false);\r\n  const [results, setResults] = useState([]);\r\n  const searchInput = useRef(null);\r\n  const {t} = useTranslation();\r\n\r\n  const handleSearch = useCallback((searchInput) => {\r\n    const results = [];\r\n\r\n    const sync = (datums) => {\r\n      datums.map((result, index) => {\r\n        const stateObj = {\r\n          name: result.name,\r\n          type: 'state',\r\n          route: result.code,\r\n        };\r\n        results.push(stateObj);\r\n        return null;\r\n      });\r\n    };\r\n\r\n    const districtSync = (datums) => {\r\n      datums.slice(0, 3).map((result, index) => {\r\n        const districtObj = {\r\n          name: result.district,\r\n          type: 'district',\r\n          route: STATE_CODES_REVERSE[result.state],\r\n        };\r\n        results.push(districtObj);\r\n        return null;\r\n      });\r\n    };\r\n\r\n    const essentialsSync = (datums) => {\r\n      datums.slice(0, 5).map((result, index) => {\r\n        const essentialsObj = {\r\n          name: result.nameoftheorganisation,\r\n          type: 'essentials',\r\n          category: result.category,\r\n          website: result.contact,\r\n          description: result.descriptionandorserviceprovided,\r\n          city: result.city,\r\n          state: result.state,\r\n          contact: result.phonenumber,\r\n        };\r\n        results.push(essentialsObj);\r\n        return null;\r\n      });\r\n      setResults([...results]);\r\n    };\r\n\r\n    engine.search(searchInput, sync);\r\n    districtEngine.search(searchInput, districtSync);\r\n    essentialsEngine.search(searchInput, essentialsSync);\r\n  }, []);\r\n\r\n  useDebounce(\r\n    () => {\r\n      if (searchValue) {\r\n        handleSearch(searchValue);\r\n      } else {\r\n        setResults([]);\r\n      }\r\n    },\r\n    100,\r\n    [searchValue]\r\n  );\r\n\r\n  function setNativeValue(element, value) {\r\n    const valueSetter = Object.getOwnPropertyDescriptor(element, 'value').set;\r\n    const prototype = Object.getPrototypeOf(element);\r\n    const prototypeValueSetter = Object.getOwnPropertyDescriptor(\r\n      prototype,\r\n      'value'\r\n    ).set;\r\n\r\n    if (valueSetter && valueSetter !== prototypeValueSetter) {\r\n      prototypeValueSetter.call(element, value);\r\n    } else {\r\n      valueSetter.call(element, value);\r\n    }\r\n  }\r\n\r\n  /* function fillPlaceholder(target, index, cursorPosition, callback) {\r\n    if (focused) {\r\n      target.textContent = '';\r\n      return true;\r\n    }\r\n    const text = t(suggestions[index]);\r\n    const placeholder = target.textContent;\r\n    target.classList.remove('disappear');\r\n    target.textContent = placeholder + text[cursorPosition];\r\n    if (cursorPosition < text.length - 1) {\r\n      setTimeout(function () {\r\n        fillPlaceholder(target, index, cursorPosition + 1, callback);\r\n      }, 200);\r\n      return true;\r\n    }\r\n    callback();\r\n  }\r\n\r\n  function clearPlaceholder(target, callback) {\r\n    const placeholder = target.textContent;\r\n    target.classList.add('disappear');\r\n    if (placeholder.length > 0) {\r\n      setTimeout(function () {\r\n        target.textContent = '';\r\n        clearPlaceholder(target, callback);\r\n      }, 1000);\r\n      return true;\r\n    }\r\n    callback();\r\n  }\r\n\r\n  function loopThroughSuggestions(target, index) {\r\n    if (focused) {\r\n      target.textContent = '';\r\n      return true;\r\n    }\r\n    fillPlaceholder(target, index, 0, function () {\r\n      setTimeout(function () {\r\n        clearPlaceholder(target, function () {\r\n          loopThroughSuggestions(target, (index + 1) % suggestions.length);\r\n        });\r\n      }, 2000);\r\n    });\r\n  }\r\n\r\n  const targetInput = document.getElementById('search-placeholder');\r\n  if (targetInput) loopThroughSuggestions(targetInput, 0);*/\r\n\r\n  return (\r\n    <div className=\"Search\">\r\n      <label>{t('Search your city, resources, etc')}</label>\r\n      <div className=\"line\"></div>\r\n\r\n      <div className=\"search-input-wrapper\">\r\n        <input\r\n          type=\"text\"\r\n          value={searchValue}\r\n          ref={searchInput}\r\n          onFocus={(event) => {\r\n            setExpand(true);\r\n          }}\r\n          onBlur={() => {\r\n            setExpand(false);\r\n          }}\r\n          onChange={(event) => {\r\n            setSearchValue(event.target.value);\r\n          }}\r\n        />\r\n        <span id=\"search-placeholder\" className=\"search-placeholder\"></span>\r\n\r\n        <div className={`search-button`}>\r\n          <Icon.Search />\r\n        </div>\r\n\r\n        {searchValue.length > 0 && (\r\n          <div\r\n            className={`close-button`}\r\n            onClick={() => {\r\n              setSearchValue('');\r\n              setResults([]);\r\n            }}\r\n          >\r\n            <Icon.X />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {results.length > 0 && (\r\n        <div className=\"results\">\r\n          {results.map((result, index) => {\r\n            if (result.type === 'state' || result.type === 'district') {\r\n              return (\r\n                <Link key={index} to={`state/${result.route}`}>\r\n                  <div className=\"result\">\r\n                    <div className=\"result-left\">\r\n                      <div className=\"result-name\">\r\n                        {`${result.name}`}\r\n                        {result.type === 'district' &&\r\n                          `, ${STATE_CODES[result.route]}`}\r\n                      </div>\r\n                      <div\r\n                        className={classnames('result-zone', {\r\n                          [`is-${districtZones[STATE_CODES[result.route]][\r\n                            result.name\r\n                          ]?.zone.toLowerCase()}`]: true,\r\n                        })}\r\n                      ></div>\r\n                    </div>\r\n                    <div className=\"result-type\">\r\n                      <span>{[result.route]}</span>\r\n                      <Icon.ArrowRightCircle size={14} />\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              );\r\n            } else {\r\n              return (\r\n                <a\r\n                  key={index}\r\n                  href={result.website}\r\n                  target=\"_noblank\"\r\n                  className=\"essential-result\"\r\n                >\r\n                  <div className=\"result-top\">\r\n                    <div className=\"result-top-left\">\r\n                      <div className=\"result-name\">{result.name}</div>\r\n                      <div className=\"result-location\">\r\n                        {result.city}, {result.state}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"result-category\">\r\n                      <div>\r\n                        {result.category.match('Delivery')\r\n                          ? 'Home Delivery'\r\n                          : result.category}\r\n                      </div>\r\n                      <Icon.ExternalLink />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"result-description\">{result.description}</div>\r\n                  <div className=\"result-contact\">\r\n                    <Icon.Phone />\r\n                    <div>{result.contact}</div>\r\n                  </div>\r\n                </a>\r\n              );\r\n            }\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {expand && (\r\n        <div className=\"expanded\">\r\n          <div className=\"expanded-left\">\r\n            <h3>{t('Essentials')}</h3>\r\n            <div className=\"suggestions\">\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Testing Pune');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Testing Pune')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Delhi Shelter');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Delhi Shelter')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(\r\n                      searchInput.current,\r\n                      'Community Kitchen in Kerala'\r\n                    );\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Community Kitchen in Kerala')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Groceries Chennai');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Groceries Chennai')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(\r\n                      searchInput.current,\r\n                      'Senior citizen support bangalore'\r\n                    );\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Senior citizen support bangalore')}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"expanded-right\">\r\n            <h3>{t('Locations')}</h3>\r\n            <div className=\"suggestions\">\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Hyderabad');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Hyderabad')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Karnataka');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Karnataka')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Chennai');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Chennai')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Jharkhand');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Jharkhand')}\r\n                </h4>\r\n              </div>\r\n              <div className=\"suggestion\">\r\n                <div>-</div>\r\n                <h4\r\n                  onMouseDown={(event) => {\r\n                    event.preventDefault();\r\n                    setNativeValue(searchInput.current, 'Alappuzha');\r\n                    searchInput.current.dispatchEvent(\r\n                      new Event('input', {bubbles: true})\r\n                    );\r\n                  }}\r\n                >\r\n                  {t('Alappuzha')}\r\n                </h4>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default React.memo(Search);\r\n"]},"metadata":{},"sourceType":"module"}