{"map":{"version":3,"sources":["static/js/Essentials.5d925a36.chunk.js"],"names":["this","push","729","module","__webpack_exports__","__webpack_require__","r","slicedToArray","lib_esm","axios","axios_default","n","classnames","classnames_default","immer_esm","leaflet_src","leaflet_src_default","leaflet_knn","react","react_default","external_link","phone","useEffectOnce","medFilter","feature","properties","priority","othersFilter","getDistance","p1","p2","phi1","Math","PI","phi2","dLambda","d","acos","sin","cos","Number","toFixed","knnresults","_ref","userLocation","userState","_useState","Object","_useState2","geoData","setGeoData","_useState3","_useState4","results","setResults","_useState5","_useState6","categories","setCategories","getJSON","a","get","then","response","data","catch","error","console","log","medKnn","restKnn","panKnn","_geoData$features","geoJSON","filter","nearestLayer","features","feat","state","includes","result","name","type","i","length","geometry","coordinates","layer","desc","addr","contact","icon","recordid","dist","reverse","j","k","map","_feature$properties","reduce","acc","e","set","Map","forEach","value","key","categoryMeta","count","isSelected","createElement","className","style","animationDelay","keys","categoryName","variant","is-selected","onClick","newIsSelected","draft","toggleFilter","href","target","concat","react_content_loader_es","alert_octagon","x_circle","useMeasure","EssentialsLoader","_useMeasure","_useMeasure2","svgElement","width","Fragment","ref","speed","height","viewBox","position","x","y","rx","ry","props","currentLocation","setCurrentLocation","currentAddress","setCurrentAddress","currentState","setCurrentState","getCurrentAddress","lat","lng","locality","principalSubdivision","err","src","alt","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","size"],"mappings":"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"},"code":"(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[4],{729:function(e,t,a){\"use strict\";a.r(t);var r=a(20),n=a(701),s=a(263),i=a.n(s),o=a(252),l=a.n(o),c=a(699),u=a(693),d=a.n(u),p=a(694),m=a(0),f=a.n(m),y=a(526),h=a(527),v=a(238);function g(e){return e.properties.priority}function E(e){return!e.properties.priority}function b(e,t){var a=e[0]*Math.PI/180,r=t[0]*Math.PI/180,n=(t[1]-e[1])*Math.PI/180,s=6371e3*Math.acos(Math.sin(a)*Math.sin(r)+Math.cos(a)*Math.cos(r)*Math.cos(n));return Number((s/1e3).toFixed(2))}var N=function(e){var t=e.userLocation,a=e.userState,s=Object(m.useState)([]),o=Object(r.a)(s,2),u=o[0],N=o[1],w=Object(m.useState)(),O=Object(r.a)(w,2),j=O[0],S=O[1],k=Object(m.useState)([]),x=Object(r.a)(k,2),I=x[0],M=x[1];Object(v.a)((function(){P()}),[]);var P=Object(m.useCallback)((function(){i.a.get(\"https://raw.githubusercontent.com/aswaathb/covid19india-react/publish/newResources/geoResources.json\").then((function(e){N(e.data)})).catch((function(e){console.log(e)}))}),[]);return Object(m.useEffect)((function(){var e,r,n,s;t&&(e=new p(d.a.geoJSON(u,{filter:g})).nearestLayer([t[1],t[0]],5),r=new p(d.a.geoJSON(u,{filter:E})).nearestLayer([t[1],t[0]],100,1e4),n=null===u||void 0===u||null===(s=u.features)||void 0===s?void 0:s.filter((function(e){return\"PAN India\"===e.properties.state||e.properties.state.includes(\"PAN\")&&e.properties.state.includes(a)})));var i={name:\"NearestK-Essentials\",type:\"FeatureCollection\",features:[]};if(e){var o=0;for(o=0;o<e.length;o++)i.features.push({type:\"Feature\",geometry:{type:\"Point\",coordinates:e[o].layer.feature.geometry.coordinates},properties:{name:e[o].layer.feature.properties.name,desc:e[o].layer.feature.properties.desc,addr:e[o].layer.feature.properties.addr,phone:e[o].layer.feature.properties.phone,contact:e[o].layer.feature.properties.contact,icon:e[o].layer.feature.properties.icon,recordid:e[o].layer.feature.properties.recordid,dist:b(t,e[o].layer.feature.geometry.coordinates.reverse())}})}if(r){var l=0;for(l=0;l<r.length;l++)i.features.push({type:\"Feature\",geometry:{type:\"Point\",coordinates:r[l].layer.feature.geometry.coordinates},properties:{name:r[l].layer.feature.properties.name,desc:r[l].layer.feature.properties.desc,addr:r[l].layer.feature.properties.addr,phone:r[l].layer.feature.properties.phone,contact:r[l].layer.feature.properties.contact,icon:r[l].layer.feature.properties.icon,recordid:r[l].layer.feature.properties.recordid,dist:b(t,r[l].layer.feature.geometry.coordinates.reverse())}})}if(n){var c=0;for(c=0;c<n.length;c++)i.features.push(n[c])}S(i)}),[u,t,a]),Object(m.useEffect)((function(){var e={};j&&j.features.map((function(e){var t;return null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.icon})).reduce((function(e,t){return e.set(t,(e.get(t)||0)+1)}),new Map).forEach((function(t,a,r){var n={count:t,isSelected:!0};e[a]=n})),M(e)}),[j]),j?f.a.createElement(\"div\",{className:\"results fadeInUp\",style:{animationDelay:\"0.5s\"}},f.a.createElement(\"div\",{className:\"labels\"},f.a.createElement(n.c,null,Object.keys(I).map((function(e){return f.a.createElement(n.b,{variant:\"xl\",key:e,className:l()(\"label-item\",{\"is-selected\":I[e].isSelected}),onClick:function(){return function(e,t){M(Object(c.a)((function(a){a[e].isSelected=t})))}(e,!I[e].isSelected)}},e,f.a.createElement(n.a,{className:\"counter\"},I[e].count))})))),null===j||void 0===j?void 0:j.features.filter((function(e){return Object.keys(I).filter((function(e){return!0===I[e].isSelected})).includes(e.properties.icon)})).map((function(e,t){return f.a.createElement(\"div\",{key:e.properties.recordid?e.properties.recordid:t,className:\"essential-result\"},f.a.createElement(\"div\",{className:\"result-top\"},f.a.createElement(\"div\",{className:\"result-top-left\"},f.a.createElement(\"div\",{className:\"result-name\"},e.properties.name),f.a.createElement(\"div\",{className:\"result-location\"},e.properties.addr),e.properties.dist&&f.a.createElement(\"div\",{className:\"result-distance\"},e.properties.dist+\" km away\")),f.a.createElement(\"a\",{className:\"result-category\",href:e.properties.contact,target:\"_noblank\"},f.a.createElement(\"span\",null,e.properties.icon),f.a.createElement(y.a,null))),f.a.createElement(\"div\",{className:\"result-description\"},e.properties.desc),e.properties.phone?f.a.createElement(\"a\",{className:\"result-contact\",href:\"tel:\".concat(e.properties.phone)},f.a.createElement(h.a,null),f.a.createElement(\"div\",null,e.properties.phone)):null)}))):null},w=a(700),O=a(529),j=a(639),S=a(721);function k(){var e=Object(S.a)(),t=Object(r.a)(e,2),a=t[0],n=t[1].width;return Object(m.useEffect)((function(){}),[n]),f.a.createElement(f.a.Fragment,null,f.a.createElement(\"span\",{ref:a,style:{width:\"100%\"}}),n&&f.a.createElement(w.a,{speed:1.5,width:n,height:325,viewBox:\"0 0 \".concat(n,\" 325\"),position:\"absolute\",className:\"fadeInUp\"},f.a.createElement(\"rect\",{x:n/2-60,y:\"10\",rx:\"5\",ry:\"5\",width:\"120\",height:\"32\"}),f.a.createElement(\"rect\",{x:n/2+70,y:\"18\",rx:\"100\",ry:\"100\",width:\"15\",height:\"15\"}),f.a.createElement(\"rect\",{x:\"10\",y:\"80\",rx:\"5\",ry:\"5\",width:\"85\",height:\"32\"}),f.a.createElement(\"rect\",{x:\"100\",y:\"80\",rx:\"5\",ry:\"5\",width:\"65\",height:\"32\"}),f.a.createElement(\"rect\",{x:\"10\",y:\"130\",rx:\"5\",ry:\"5\",width:n-20,height:\"172\"})))}t.default=function(e){var t=Object(m.useState)(null),a=Object(r.a)(t,2),n=a[0],s=a[1],o=Object(m.useState)(null),l=Object(r.a)(o,2),c=l[0],u=l[1],d=Object(m.useState)(null),p=Object(r.a)(d,2),y=p[0],h=p[1],v=function(e,t){try{i.a.get(\"https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=\"+e+\"&longitude=\"+t+\"&localityLanguage=en\").then((function(e){u(e.data.locality),h(e.data.principalSubdivision)}))}catch(a){console.log(a),u(\"Error fetching name of your location\"),h(null)}};return f.a.createElement(\"div\",{className:\"Essentials\"},f.a.createElement(\"img\",{src:\"/essentials_1.svg\",alt:\"essentials platform\",className:\"fadeInUp\",style:{animationDelay:\"0.3s\"}}),f.a.createElement(\"img\",{src:\"/essentials_2.svg\",alt:\"essentials woman pushing cart\",className:\"fadeInUp\",style:{position:\"absolute\",animationDelay:\"0.1s\"}}),!n&&f.a.createElement(f.a.Fragment,null,f.a.createElement(\"button\",{className:\"button fadeInUp\",style:{animationDelay:\"0.6s\"},onClick:function(){navigator.geolocation.getCurrentPosition((function(e){s([e.coords.latitude,e.coords.longitude]),v(e.coords.latitude,e.coords.longitude)}))}},\"View essentials nearby offering special assistance\"),f.a.createElement(\"div\",{className:\"alert fadeInUp\",style:{animationDelay:\"0.7s\"}},f.a.createElement(O.a,{size:16}),f.a.createElement(\"div\",{className:\"alert-right is-full\"},\"We do not collect any location data; they're all stored \\n              inside your browser and are inaccessible to us.\")),f.a.createElement(\"div\",{className:\"alert fadeInUp\",style:{animationDelay:\"0.8s\"}},f.a.createElement(O.a,{size:16}),f.a.createElement(\"div\",{className:\"alert-right is-full\"},\"We are a community sourced listing platform and are not associated\\n              with any of the organizations listed below. Although we verify all\\n              our listings, we request you to follow all the guidelines and take\\n              the necessary precautions. We encourage you to report any error or\\n              suspicious activity so that we can take immediate action.\"))),n&&!c&&f.a.createElement(k,null),c&&f.a.createElement(\"div\",{className:\"address fadeInUp\"},f.a.createElement(\"h3\",null,c+\", \"+y),f.a.createElement(j.a,{size:16,onClick:function(){s(null),u(null),h(null)}})),f.a.createElement(\"div\",{className:\"Search\"},c&&f.a.createElement(N,{userLocation:n,userState:y})))}}}]);","extractedComments":[]}